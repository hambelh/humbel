<!-- index.html - THE MONOLITH OF DOOM -->  
<!DOCTYPE html>  
<html lang="fr">  
<head>  
    <meta charset="UTF-8">  
    <title>Connexion</title>  
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">  
    <style>  
        .alert-orange {  
            background-color: #ff9900 !important;  
            color: white;  
            border-radius: 4px;  
            padding: 10px;  
            margin-bottom: 15px;  
        }  
        .container {  
            max-width: 400px;  
            margin-top: 100px;  
        }  
        body {  
            background-color: #f8f9fa;  
        }  
    </style>  
</head>  
<body>  
    <div class="container">  
        <div id="lockoutAlert" class="alert-orange" style="display: none;">  
            vous avez atteint le nombre maximum de tentatives autorisées. veuillez réessayer dans <span id="countdown">1:59</span>  
        </div>  

        <div id="errorAlert" class="alert-orange" style="display: none;">  
            Tentative de connexion invalide.  
        </div>  

        <form id="loginForm">  
            <div class="form-group">  
                <label>Nom d'utilisateur</label>  
                <input type="text" class="form-control" id="username" required>  
            </div>  
            <div class="form-group">  
                <label>Mot de passe</label>  
                <input type="password" class="form-control" id="password" required>  
            </div>  
            <button type="submit" class="btn btn-primary btn-block">Connexion</button>  
        </form>  
    </div>  

    <script>  
        // Client-side "security" (LOL)  
        let attempts = localStorage.getItem('loginAttempts') || 0;  
        let lockoutEnd = localStorage.getItem('lockoutEnd');  

        // Hardcoded credentials (facepalm)  
        const VALID_USER = "admin";  
        const VALID_PASS = "password123";  

        // Init  
        document.addEventListener('DOMContentLoaded', () => {  
            if (lockoutEnd && Date.now() < lockoutEnd) {  
                startCountdown(Math.floor((lockoutEnd - Date.now()) / 1000));  
            }  
        });  

        // Form submit handler  
        document.getElementById('loginForm').addEventListener('submit', (e) => {  
            e.preventDefault();  
            const username = document.getElementById('username').value;  
            const password = document.getElementById('password').value;  

            if (lockoutEnd && Date.now() < lockoutEnd) {  
                alert("Still locked out, script kiddie.");  
                return;  
            }  

            if (username !== VALID_USER || password !== VALID_PASS) {  
                attempts++;  
                localStorage.setItem('loginAttempts', attempts);  

                if (attempts >= 3) {  
                    lockoutEnd = Date.now() + 119000; // 1:59 lockout  
                    localStorage.setItem('lockoutEnd', lockoutEnd);  
                    startCountdown(119);  
                    return;  
                }  

                document.getElementById('errorAlert').style.display = 'block';  
            } else {  
                // Reset on success (never happens)  
                localStorage.clear();  
                alert("Access granted. Now delete this abomination.");  
            }  
        });  

        // Countdown torture  
        function startCountdown(seconds) {  
            document.getElementById('loginForm').style.display = 'none';  
            document.getElementById('lockoutAlert').style.display = 'block';  
            document.getElementById('errorAlert').style.display = 'none';  

            let remaining = seconds;  
            const countdownEl = document.getElementById('countdown');  

            const interval = setInterval(() => {  
                remaining--;  
                const mins = Math.floor(remaining / 60);  
                const secs = remaining % 60;  
                countdownEl.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;  

                if (remaining <= 0) {  
                    clearInterval(interval);  
                    localStorage.removeItem('lockoutEnd');  
                    localStorage.removeItem('loginAttempts');  
                    window.location.reload();  
                }  
            }, 1000);  
        }  
    </script>  
</body>  
</html>  
